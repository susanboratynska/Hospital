@model HospitalProject.Models.ViewModels.DoctorsAppointmentUpdate
@{
    ViewBag.Title = "Update";
}

<h2>Update Doctor's Appointment</h2>
<a href="Bookings">Back to Bookings</a>
<form method="POST" action="/DoctorAppointment/UpdateBooking" class="form-horizontal">
    <div class="form-group">
        <label for="CampusName" class="col-sm-2 control-label">Doctor:</label>
        <div class="col-sm-10">
            <select class="form-control" name="doctorId" id="doctorSelect">
                @foreach (var doctor in Model.Doctors)
                {
                    var selected = "";
                    if (Model.DoctorAppointment.DoctorID == doctor.DoctorID)
                    {
                        selected = "selected";
                    }
                    <option value="@doctor.DoctorID" @selected>Dr. @doctor.ApplicationUser.FirstName @doctor.ApplicationUser.LastName</option>
                }
            </select>
        </div>
    </div>

    <div class="form-group">
        <input type="hidden" name="bookingID" value="@Model.DoctorAppointment.BookingID" />
        <label for="CampusAddressLine1" class="col-sm-2 control-label">Date & Time:</label>
        <div class="col-sm-10">
            <input id="DateTime" value="@Convert.ToDateTime(Model.DoctorAppointment.BookingDateTime).ToString("yyyy-MM-ddTHH:MM")" min="@Convert.ToDateTime(DateTime.Now).ToString("yyyy-MM-ddTHH:MM")" class="form-control" type="datetime-local" name="bookingDateTime" required />
        </div>
    </div>

    <div class="form-group">
        <label for="CampusAddressLine1" class="col-sm-2 control-label">Comments:</label>
        <div class="col-sm-10">
            <textarea id="comments" class="form-control" type="number" name="comments" required>@Model.DoctorAppointment.PatientComments</textarea>
        </div>
    </div>

    <div>
        <input type="submit" class="btn btn-primary" value="Update Booking" />
    </div>


</form>

